Required software tools:
========================

*) GMP (http://gmplib.org): usually installed in most Linux distributions
*) The GCC compiler works ; some others might, but it is untested. C and
   C++ are required.
*) GNU make and CMake for building (CMake is installed on the fly if missing
   (requires an Internet connection))
*) Support for posix threads.
*) The main cadofactor.pl script uses a lot of unix tools: perl, ssh, gzip
   to mention but a few. 

Optionally:
*) Support for curl library.
*) Support for MPI.


[Configure]
===========

if your site needs tweaks, set such tweaks using environment variables,
or via the shell script local.sh ; you may start with

cp local.sh.example local.sh

Edit according to your local settings and your taste. local.sh.example
gives documentation on the recognized environment variables and their
effect.

Note that tweaks in local.sh are global (relevant to all sub-directories
of the cado-nfs tree, not to a particular directory).


Compile:
========

make

It may or may not be relevant to do ``make install'' as well ; at the
moment consider ``make install'' to be broken.

Run a factorization on current machine:
=======================================

./factor.sh 90377629292003121684002147101760858109247336549001090677693 -t 2

The integer must not be too small, say at least 60 digits [note though
that cado-nfs is optimized only for numbers above 85 digits] and it is a
good idea to remove its small prime factors. The option '-t 2' tells how many
cores to use on the current machine (for sieving and linear algebra).

./factor.sh 353493749731236273014678071260920590602836471854359705356610427214806564110716801866803409 -t 4 -ssh

If the number of cores is strictly greater than 2, it is more efficient
to use ssh to distribute the polynomial selection and sieve on localhost.
To configure ssh, see the next section.

For a larger factorization (distributed on several machines),
please use directly the main script cadofactor.pl (doc included in the script).

Check that your SSH configuration is correct:
=============================================

The master script uses SSH to connect to available computing resources
(including localhost). In order to avoid the script asking your password
or passphrase, you must have a public-key authentication and an agent.

Also, since localhost has an IP and key that varies, you'd better have
those 3 lines in your $HOME/.ssh/config:

Host    localhost
        StrictHostKeyChecking no
        UserKnownHostsFile /dev/null

You should also put in $HOME/.ssh/authorized_keys your public key.

If everything is correctly configured, when you type 

ssh localhost

you should end up with a new shell on your machine, without having to
type any password/passphrase.

Factoring with SNFS:
====================

It is possible to take advantage of the special form of an integer and 
use the Special Number Field Sieve. See the doc in cadofactor.pl for
that. Note in particular that you can force the special-q to be on the
rational side if this is more appropriate for your number.

The default square root algorithm does not work in some very rare cases
that could possibly occur with SNFS polynomials (a degree 4 polynomial
with Galois group Z/2 x Z/2 is the only reasonnable example, next case is
for degree 8). The CRT approach is a workaround. See crtaglsqrt.c . 

Factoring with two non-linear polynomials:
==========================================

This is not yet possible with this release. You can find a bit of
information on this topic in the development version, in the SVN repository
(see file README.nonlinear).

Using CADO-NFS under Windows:
=============================

Portability of CADO-NFS on Windows was not an initial goal of that project,
however we give here some hints that might help people wanting to use CADO-NFS
under Windows:

* if you only need the siever to run on Windows, then you only need to compile
  the "las" program on Windows

* CygWin provides a Unix-like environment, where compilation should be easy.
  However the binary requires a cygwin.dll file.

* if you want a binary without any dependency, you might try MinGW. The INSTALL
  file from GNU MPFR contains detailed instructions on how to compile MPFR
  under Windows. Those instructions should work for CADO-NFS too.

* you might try to use MPIR (mpir.org) instead of GMP. MPIR is a fork of GMP,
  which claims to be more portable under Windows.
